[gd_scene load_steps=24 format=4 uid="uid://nbyxot4cemcw"]

[ext_resource type="Script" uid="uid://bwpe24nufpj37" path="res://engine/scripts/classes/level_cutscene/level_cutscene.gd" id="1_ef2nd"]
[ext_resource type="Script" uid="uid://d2imrwspwi2ho" path="res://stages/world_1/cutscene_logic.gd" id="2_nio0w"]
[ext_resource type="PackedScene" uid="uid://1do11cr84k7y" path="res://engine/objects/players/player.tscn" id="3_cm7wu"]
[ext_resource type="Script" uid="uid://cac0lu6by8vsx" path="res://stages/world_1/cutscene/player_camera_cutscene.gd" id="4_dpsuc"]
[ext_resource type="PackedScene" uid="uid://yqftjpfskche" path="res://engine/components/cam_area/cam_area.tscn" id="5_ojtvn"]
[ext_resource type="Texture2D" uid="uid://crgf5xxx3jvlu" path="res://engine/tilesets/overworld/hard_block_only.png" id="6_3rqrh"]
[ext_resource type="Texture2D" uid="uid://c5hpwybk6ny71" path="res://stages/world_1/level textures/snow_tileset.png" id="7_ef2nd"]
[ext_resource type="PackedScene" uid="uid://ugxjxrdao5el" path="res://engine/components/hud/hud.tscn" id="7_nio0w"]
[ext_resource type="Texture2D" uid="uid://bitulg5vsln1j" path="res://stages/world_1/level textures/snow_fence.png" id="8_37lp2"]
[ext_resource type="PackedScene" uid="uid://cldwe12rp55ep" path="res://stages/world_1/level objects/snow/castle_snow.tscn" id="9_dpsuc"]
[ext_resource type="Texture2D" uid="uid://d3tb4c7vpd2ls" path="res://stages/world_1/level textures/snow_tree.png" id="9_nio0w"]
[ext_resource type="PackedScene" uid="uid://b7k4x256aduiy" path="res://stages/world_1/level objects/snow/castle_snow_bottom.tscn" id="10_cm7wu"]
[ext_resource type="PackedScene" uid="uid://brb0dn2mn41el" path="res://stages/world_1/gfx/rain/snowfall_cutscene.tscn" id="11_cm7wu"]
[ext_resource type="PackedScene" uid="uid://cr6w8t6eme82s" path="res://stages/world_1/level objects/snow/snow_hill.tscn" id="14_k64dk"]
[ext_resource type="PackedScene" uid="uid://d3lvckcqr5gmw" path="res://stages/world_1/level objects/snow/snow_bushy_trees.tscn" id="15_iiqkb"]

[sub_resource type="Gradient" id="Gradient_e5u35"]
colors = PackedColorArray(0, 0, 0, 1, 0.235294, 0, 0.282353, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_2k6xq"]
gradient = SubResource("Gradient_e5u35")
width = 640
height = 480
fill_to = Vector2(0, 1)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_dpsuc"]
texture = ExtResource("6_3rqrh")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_cm7wu"]
texture = ExtResource("7_ef2nd")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/terrain_set = 0
0:0/0/terrain = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:0/0/terrains_peering_bit/right_side = 0
0:0/0/terrains_peering_bit/bottom_right_corner = 0
0:0/0/terrains_peering_bit/bottom_side = 0
1:0/0 = 0
1:0/0/terrain_set = 0
1:0/0/terrain = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:0/0/terrains_peering_bit/right_side = 0
1:0/0/terrains_peering_bit/bottom_right_corner = 0
1:0/0/terrains_peering_bit/bottom_side = 0
1:0/0/terrains_peering_bit/bottom_left_corner = 0
1:0/0/terrains_peering_bit/left_side = 0
1:1/0 = 0
1:1/0/terrain_set = 0
1:1/0/terrain = 0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:1/0/terrains_peering_bit/right_side = 0
1:1/0/terrains_peering_bit/bottom_right_corner = 0
1:1/0/terrains_peering_bit/bottom_side = 0
1:1/0/terrains_peering_bit/bottom_left_corner = 0
1:1/0/terrains_peering_bit/left_side = 0
1:1/0/terrains_peering_bit/top_left_corner = 0
1:1/0/terrains_peering_bit/top_side = 0
1:1/0/terrains_peering_bit/top_right_corner = 0
0:2/0 = 0
0:2/0/terrain_set = 0
0:2/0/terrain = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:2/0/terrains_peering_bit/right_side = 0
0:2/0/terrains_peering_bit/top_side = 0
0:2/0/terrains_peering_bit/top_right_corner = 0
0:1/0 = 0
0:1/0/terrain_set = 0
0:1/0/terrain = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:1/0/terrains_peering_bit/right_side = 0
0:1/0/terrains_peering_bit/bottom_right_corner = 0
0:1/0/terrains_peering_bit/bottom_side = 0
0:1/0/terrains_peering_bit/top_side = 0
0:1/0/terrains_peering_bit/top_right_corner = 0
1:2/0 = 0
1:2/0/terrain_set = 0
1:2/0/terrain = 0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:2/0/terrains_peering_bit/right_side = 0
1:2/0/terrains_peering_bit/left_side = 0
1:2/0/terrains_peering_bit/top_left_corner = 0
1:2/0/terrains_peering_bit/top_side = 0
1:2/0/terrains_peering_bit/top_right_corner = 0
2:2/0 = 0
2:2/0/terrain_set = 0
2:2/0/terrain = 0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:2/0/terrains_peering_bit/left_side = 0
2:2/0/terrains_peering_bit/top_left_corner = 0
2:2/0/terrains_peering_bit/top_side = 0
2:1/0 = 0
2:1/0/terrain_set = 0
2:1/0/terrain = 0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:1/0/terrains_peering_bit/bottom_side = 0
2:1/0/terrains_peering_bit/bottom_left_corner = 0
2:1/0/terrains_peering_bit/left_side = 0
2:1/0/terrains_peering_bit/top_left_corner = 0
2:1/0/terrains_peering_bit/top_side = 0
2:0/0 = 0
2:0/0/terrain_set = 0
2:0/0/terrain = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:0/0/terrains_peering_bit/bottom_side = 0
2:0/0/terrains_peering_bit/bottom_left_corner = 0
2:0/0/terrains_peering_bit/left_side = 0
0:3/0 = 0
0:3/0/terrain_set = 0
0:3/0/terrain = 0
0:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
0:3/0/terrains_peering_bit/right_side = 0
1:3/0 = 0
1:3/0/terrain_set = 0
1:3/0/terrain = 0
1:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
1:3/0/terrains_peering_bit/right_side = 0
1:3/0/terrains_peering_bit/left_side = 0
2:3/0 = 0
2:3/0/terrain_set = 0
2:3/0/terrain = 0
2:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
2:3/0/terrains_peering_bit/left_side = 0
3:0/0 = 0
3:0/0/terrain_set = 0
3:0/0/terrain = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:0/0/terrains_peering_bit/bottom_side = 0
3:1/0 = 0
3:1/0/terrain_set = 0
3:1/0/terrain = 0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:1/0/terrains_peering_bit/bottom_side = 0
3:1/0/terrains_peering_bit/top_side = 0
3:2/0 = 0
3:2/0/terrain_set = 0
3:2/0/terrain = 0
3:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)
3:2/0/terrains_peering_bit/top_side = 0
3:3/0 = 0
3:3/0/terrain_set = 0
3:3/0/terrain = 0
3:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)

[sub_resource type="TileSet" id="TileSet_111yb"]
tile_size = Vector2i(32, 32)
physics_layer_0/collision_layer = 112
physics_layer_0/collision_mask = 0
terrain_set_0/mode = 0
terrain_set_0/terrain_0/name = "Snow"
terrain_set_0/terrain_0/color = Color(0.5, 0.34375, 0.25, 1)
sources/1 = SubResource("TileSetAtlasSource_dpsuc")
sources/2 = SubResource("TileSetAtlasSource_cm7wu")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_pupsk"]
texture = ExtResource("8_37lp2")
2:0/size_in_atlas = Vector2i(2, 2)
2:0/0 = 0
1:0/size_in_atlas = Vector2i(1, 2)
1:0/0 = 0
1:0/0/texture_origin = Vector2i(-8, 0)
4:0/size_in_atlas = Vector2i(1, 2)
4:0/0 = 0
4:0/0/texture_origin = Vector2i(8, 0)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_dxsmk"]
texture = ExtResource("9_nio0w")
texture_region_size = Vector2i(32, 32)
0:0/size_in_atlas = Vector2i(1, 3)
0:0/0 = 0

[sub_resource type="TileSet" id="TileSet_nio0w"]
tile_size = Vector2i(32, 32)
sources/0 = SubResource("TileSetAtlasSource_pupsk")
sources/2 = SubResource("TileSetAtlasSource_dxsmk")

[node name="CastleCutscene" type="Node2D"]
editor_description = "ENTER SCENE PATH INSIDE THE PIPEIN OBJECT!"
script = ExtResource("1_ef2nd")
goto_path = "uid://gxkwsxwairg4"
fade_out_time = 0.02

[node name="CutsceneLogic" type="Node" parent="."]
script = ExtResource("2_nio0w")

[node name="Player" parent="." instance=ExtResource("3_cm7wu")]
position = Vector2(176, 400)

[node name="PlayerCamera2D" type="Camera2D" parent="."]
editor_draw_screen = false
script = ExtResource("4_dpsuc")
metadata/_edit_lock_ = true

[node name="CameraArea" parent="." instance=ExtResource("5_ojtvn")]
offset_right = 640.0
offset_bottom = 480.0
metadata/_edit_lock_ = true

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="Sprite2D" type="Sprite2D" parent="ParallaxBackground"]
texture = SubResource("GradientTexture2D_2k6xq")
centered = false
metadata/_edit_lock_ = true

[node name="CanvasModulate" type="CanvasModulate" parent="ParallaxBackground"]
color = Color(0.286275, 0.286275, 0.286275, 1)

[node name="TileMapLayer" type="TileMapLayer" parent="."]
z_index = 2
tile_map_data = PackedByteArray("AAAAAA0AAgABAAAAAAABAA0AAgABAAAAAAACAA0AAgABAAAAAAADAA0AAgABAAAAAAAEAA0AAgABAAAAAAAFAA0AAgABAAAAAAAGAA0AAgABAAAAAAAHAA0AAgABAAAAAAAIAA0AAgABAAAAAAAJAA0AAgABAAAAAAAKAA0AAgABAAAAAAALAA0AAgABAAAAAAAMAA0AAgABAAAAAAANAA0AAgABAAAAAAAOAA0AAgABAAAAAAAPAA0AAgABAAAAAAAQAA0AAgABAAAAAAARAA0AAgABAAAAAAASAA0AAgABAAAAAAATAA0AAgABAAAAAAAUAA0AAgACAAAAAAAUAA4AAgACAAEAAAATAA4AAgABAAEAAAASAA4AAgABAAEAAAARAA4AAgABAAEAAAAQAA4AAgABAAEAAAAPAA4AAgABAAEAAAAOAA4AAgABAAEAAAANAA4AAgABAAEAAAAMAA4AAgABAAEAAAALAA4AAgABAAEAAAAKAA4AAgABAAEAAAAJAA4AAgABAAEAAAAIAA4AAgABAAEAAAAHAA4AAgABAAEAAAAGAA4AAgABAAEAAAAFAA4AAgABAAEAAAAEAA4AAgABAAEAAAADAA4AAgABAAEAAAACAA4AAgABAAEAAAABAA4AAgABAAEAAAAAAA4AAgABAAEAAAAAAA8AAgABAAIAAAABAA8AAgABAAIAAAACAA8AAgABAAIAAAADAA8AAgABAAIAAAAEAA8AAgABAAIAAAAFAA8AAgABAAIAAAAGAA8AAgABAAIAAAAHAA8AAgABAAIAAAAIAA8AAgABAAIAAAAJAA8AAgABAAIAAAAKAA8AAgABAAIAAAALAA8AAgABAAIAAAAMAA8AAgABAAIAAAANAA8AAgABAAIAAAAOAA8AAgABAAIAAAAPAA8AAgABAAIAAAAQAA8AAgABAAIAAAARAA8AAgABAAIAAAASAA8AAgABAAIAAAATAA8AAgABAAIAAAAUAA8AAgACAAIAAAD//w0AAgAAAAAAAAD//w4AAgAAAAEAAAD//w8AAgAAAAIAAAAVAA0AAQAAAAAAAAAWAA0AAQAAAAAAAAAWAAwAAQAAAAAAAAAWAAsAAQAAAAAAAAAWAAoAAQAAAAAAAAAWAAkAAQAAAAAAAAAWAAgAAQAAAAAAAAAWAAcAAQAAAAAAAAA=")
tile_set = SubResource("TileSet_111yb")

[node name="Decor" type="TileMapLayer" parent="."]
z_index = -1
tile_map_data = PackedByteArray("AAALAAwAAAABAAAAAAAMAAwAAAACAAAAAAANAAwAAAACAAAAAAAOAAwAAAACAAAAAAAPAAwAAAACAAAAAAAQAAwAAAAEAAAAAAARAAsAAgAAAAAAAAA=")
tile_set = SubResource("TileSet_nio0w")

[node name="HUD" parent="." instance=ExtResource("7_nio0w")]
visible = false

[node name="CastleEndMarker" type="Marker2D" parent="."]
position = Vector2(176, 416)

[node name="Castle" type="Node2D" parent="."]
position = Vector2(16, 64)

[node name="CastleSnow" parent="Castle" instance=ExtResource("9_dpsuc")]
position = Vector2(160, 80)
metadata/_edit_lock_ = true

[node name="CastleSnowBottom" parent="Castle" instance=ExtResource("10_cm7wu")]
position = Vector2(160, 255)
metadata/_edit_lock_ = true

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.28485, 0.28485, 0.28485, 1)

[node name="Snowfall" parent="." instance=ExtResource("11_cm7wu")]

[node name="Snow Hill" parent="." instance=ExtResource("14_k64dk")]
z_index = -3
position = Vector2(608, 352)

[node name="Snow Bushy Trees" parent="." instance=ExtResource("15_iiqkb")]
z_index = -2
position = Vector2(416, 416)
